warning: LF will be replaced by CRLF in package.json.
The file will have its original line endings in your working directory
[1mdiff --git a/images/cloud_file_upload/folder_upload_test_image.jpg b/images/cloud_file_upload/folder_upload_test_image.jpg[m
[1mnew file mode 100644[m
[1mindex 0000000..f4d4aad[m
Binary files /dev/null and b/images/cloud_file_upload/folder_upload_test_image.jpg differ
[1mdiff --git a/images/product_image.jpeg b/images/product_image.jpg[m
[1msimilarity index 100%[m
[1mrename from images/product_image.jpeg[m
[1mrename to images/product_image.jpg[m
[1mdiff --git a/package.json b/package.json[m
[1mindex 30ec1c3..df61c45 100644[m
[1m--- a/package.json[m
[1m+++ b/package.json[m
[36m@@ -24,5 +24,13 @@[m
   "directories": {[m
     "test": "test"[m
   },[m
[32m+[m[32m  "repository": {[m
[32m+[m[32m    "type": "git",[m
[32m+[m[32m    "url": "git+https://github.com/skbyeon90/puppeteer_N_shopping.git"[m
[32m+[m[32m  },[m
[32m+[m[32m  "bugs": {[m
[32m+[m[32m    "url": "https://github.com/skbyeon90/puppeteer_N_shopping/issues"[m
[32m+[m[32m  },[m
[32m+[m[32m  "homepage": "https://github.com/skbyeon90/puppeteer_N_shopping#readme",[m
   "description": ""[m
 }[m
[1mdiff --git a/test/config.json b/test/config.json[m
[1mnew file mode 100644[m
[1mindex 0000000..fc5d0d0[m
[1m--- /dev/null[m
[1m+++ b/test/config.json[m
[36m@@ -0,0 +1,14 @@[m
[32m+[m[32m{[m
[32m+[m[32m  "user": {[m
[32m+[m[32m    "id": "nvqa_shop57",[m
[32m+[m[32m    "password": "qatest"[m
[32m+[m[32m  },[m
[32m+[m[41m    [m
[32m+[m[32m  "uploadInfo" : {[m
[32m+[m[32m    "filePath": "\\..\\images\\product_image.jpg",[m
[32m+[m[32m    "fileName": "product_image.jpg",[m
[32m+[m[41m    [m
[32m+[m[32m    "folderPath": "\\..\\images\\cloud_file_upload",[m
[32m+[m[32m    "folderName": "cloud_file_upload"[m
[32m+[m[32m  }[m
[32m+[m[32m}[m
\ No newline at end of file[m
[1mdiff --git a/test/test.js b/test/test.js[m
[1mnew file mode 100644[m
[1mindex 0000000..2042925[m
[1m--- /dev/null[m
[1m+++ b/test/test.js[m
[36m@@ -0,0 +1,124 @@[m
[32m+[m[32m'use strict';[m
[32m+[m
[32m+[m[32mconst puppeteer = require('puppeteer');[m
[32m+[m[32mvar config = require('./config.json');[m
[32m+[m[32mconst assert = require('chai').assert;[m
[32m+[m
[32m+[m[32mlet browser;[m
[32m+[m[32mlet page;[m
[32m+[m
[32m+[m[32mbefore('before test : Î∏åÎùºÏö∞Ï†Ä, ÌéòÏù¥ÏßÄ Í∞ùÏ≤¥ Ï¥àÍ∏∞Ìôî', async() =>{[m
[32m+[m[32m    browser = await puppeteer.launch({headless : false, args : ['--ignore-certificate-errors']}); // , args: ['--start-fullscreen'][m
[32m+[m[32m    page = await browser.newPage();[m
[32m+[m[32m});[m
[32m+[m
[32m+[m[32mafter('ÌÖåÏä§Ìä∏ Ï¢ÖÎ£å & Î∏åÎùºÏö∞Ï†Ä Îã´Í∏∞', async () => {[m
[32m+[m[32m   browser.close()[m
[32m+[m[32m});[m
[32m+[m
[32m+[m[32masync function getValue(selector) {[m
[32m+[m[32m  let value = await page.evaluate((sel) => {[m
[32m+[m[32m    return document.querySelector(sel).value[m
[32m+[m[32m  }, selector)[m
[32m+[m[32m  return value[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mdescribe('ÎÑ§Ïù¥Î≤Ñ ÌÅ¥ÎùºÏö∞Îìú ÌååÏùº Î∞è Ìè¥Îçî ÏóÖÎ°úÎìú ÌÖåÏä§Ìä∏', async() => {[m
[32m+[m[41m    [m
[32m+[m[32m    it('1. ÎÑ§Ïù¥Î≤Ñ ÌÅ¥ÎùºÏö∞Îìú ÌéòÏù¥ÏßÄ Ï†ëÏÜç ÌõÑ, Î°úÍ∑∏Ïù∏', async() => {[m
[32m+[m[32m        await page.goto('https://qa.photo.cloud.naver.com/v2/', {waitUntil: 'networkidle2'});[m
[32m+[m[32m        await page.type('#id', config.user.id);[m
[32m+[m[32m        await page.type('#pw', config.user.password);[m
[32m+[m[32m        await page.click('input[title="Î°úÍ∑∏Ïù∏"]');[m
[32m+[m
[32m+[m[32m        // ÏÑúÎπÑÏä§ ÏïàÎÇ¥ Î†àÏù¥Ïñ¥ Îã´Í∏∞[m
[32m+[m[32m        await page.waitForSelector('.pro_up > a');[m
[32m+[m[32m        await page.click('.pro_up > a');[m
[32m+[m[41m        [m
[32m+[m[32m        assert.strictEqual(page.url(), 'https://qa.photo.cloud.naver.com/v2/');[m
[32m+[m[41m        [m
[32m+[m[32m    }).timeout(20000);[m
[32m+[m
[32m+[m[32m    it('2. ÌÅ¥ÎùºÏö∞Îìú Ìè¥Îçî Î™©Î°ù> "ÎÇ¥ Î¨∏ÏÑú" Ìè¥ÎçîÎ°ú Ïù¥Îèô.', async() => {[m
[32m+[m[32m        await page.click('a[data-nclickcode="lef.folder"]');[m
[32m+[m[32m        await page.waitForSelector('label[title="ÎÇ¥ Î¨∏ÏÑú"]');[m
[32m+[m[32m        await page.click('label[title="ÎÇ¥ Î¨∏ÏÑú"]');[m
[32m+[m[41m        [m
[32m+[m[32m        // ÎÇ¥ Î¨∏ÏÑú Ìè¥Îçî Ïù¥ÎèôÏó¨Î∂Ä ÌôïÏù∏[m
[32m+[m[32m        var isDocumentFocus = await page.$('label[title="ÎÇ¥ Î¨∏ÏÑú"][class~="focusout"]');[m
[32m+[m[32m        assert.isNull(isDocumentFocus, "ÎÇ¥ Î¨∏ÏÑú Ìè¥ÎçîÎ°ú Ïù¥Îèô Ïã§Ìå®!");[m
[32m+[m[41m        [m
[32m+[m[32m        // ÏÑúÎπÑÏä§ ÏïàÎÇ¥ Î†àÏù¥Ïñ¥ Îã´Í∏∞[m
[32m+[m[32m        await page.waitForSelector('.clse_s._ajax_layerclose');[m
[32m+[m[32m        await page.click('.clse_s._ajax_layerclose');[m
[32m+[m[32m    }).timeout(20000);[m
[32m+[m[41m    [m
[32m+[m[32m    it('3. ÌååÏùº ÏóÖÎ°úÎìú', async() => {[m
[32m+[m[32m        // [Ïò¨Î¶¨Í∏∞ Î≤ÑÌäº] ÌÅ¥Î¶≠[m
[32m+[m[32m        await page.waitForSelector('._new_upload > button');[m
[32m+[m[32m        await page.click('._new_upload > button');[m
[32m+[m
[32m+[m[32m        // ÌååÏùº ÏóÖÎ°úÎìú[m
[32m+[m[32m        await page.waitForSelector('.imp_li > input[title="ÌååÏùº Ïò¨Î¶¨Í∏∞"]');[m
[32m+[m[32m        var file_input = await page.$('.imp_li > input[title="ÌååÏùº Ïò¨Î¶¨Í∏∞"]');[m
[32m+[m[32m        await file_input.uploadFile(__dirname + config.uploadInfo.filePath);[m
[32m+[m
[32m+[m[32m        // ÌååÏùº ÏóÖÎ°úÎìú Î≥¥Ïïà ÏïàÎÇ¥ Î†àÏù¥Ïñ¥> ÌôïÏù∏[m
[32m+[m[32m        await page.waitForSelector('button[data-type="start"]');[m
[32m+[m[32m        await page.focus('button[data-type="start"]'); // Chrome ÏïåÎûå Í∂åÌïú ÏöîÏ≤≠ Ï∞ΩÏù¥ ÎÖ∏Ï∂úÎêòÎ©∞ Ìè¨Ïª§Ïã±ÏùÑ Î∫èÏñ¥ Ïö∞ÏÑ† Î≤ÑÌäºÏóê Ìè¨Ïª§Ïã± Ï≤òÎ¶¨Ìï®.[m[41m [m
[32m+[m[32m                                                       // Í∏∞Î≥∏ ÏñºÎüø Ï†úÏñ¥ Î∞©Î≤ïÏúºÎ°ú Ï†úÏñ¥ ÏïàÎê®.(Î¶¨ÏÑúÏπò ÌïÑÏöî)[m
[32m+[m[32m        await page.click('button[data-type="start"]');[m
[32m+[m
[32m+[m[32m        // ÌååÏùº ÏóÖÎ°úÎìú Ïó¨Î∂Ä ÌôïÏù∏[m
[32m+[m[32m        var isExistsFile = await page.$('li[title="'+ config.uploadInfo.fileName +'"]');[m
[32m+[m[32m        assert.isNull(isExistsFile, "ÌååÏùº ÏóÖÎ°úÎìú Ïã§Ìå®!");[m
[32m+[m[41m        [m
[32m+[m[32m        // ÏóÖÎ°úÎìúÌïú ÌååÏùº ÏÇ≠Ï†ú[m
[32m+[m[32m        await page.waitForSelector('li[title="'+ config.uploadInfo.fileName +'"] > div > input');[m
[32m+[m[32m        await page.click('li[title="'+ config.uploadInfo.fileName +'"] > div > input');[m
[32m+[m[32m        await page.click('._delete');[m
[32m+[m[32m        await page.waitForSelector('._confirm\\#ok');[m
[32m+[m[32m        await page.click('._confirm\\#ok');[m
[32m+[m[41m        [m
[32m+[m[32m        isExistsFile = await page.$('li[title="'+ config.uploadInfo.fileName +'"]');[m
[32m+[m[32m        assert.isNotNull(isExistsFile, "ÌååÏùº ÏÇ≠Ï†ú Ïã§Ìå®!");[m
[32m+[m[32m    }).timeout(20000);[m
[32m+[m
[32m+[m[32m    it('4. Ìè¥Îçî ÏóÖÎ°úÎìú', async() => {[m
[32m+[m[32m        // [Ïò¨Î¶¨Í∏∞ Î≤ÑÌäº] ÌÅ¥Î¶≠[m
[32m+[m[32m        await page.waitForSelector('._new_upload > button');[m
[32m+[m[32m        await page.click('._new_upload > button');[m
[32m+[m[41m        [m
[32m+[m[32m        // Ìè¥Îçî ÏóÖÎ°úÎìú[m
[32m+[m[32m        await page.waitForSelector('.imp_li > input[title="Ìè¥Îçî Ïò¨Î¶¨Í∏∞"]');[m
[32m+[m[32m        var folder_input = await page.$('.imp_li > input[title="Ìè¥Îçî Ïò¨Î¶¨Í∏∞"]');[m
[32m+[m[32m        await folder_input.uploadFile(__dirname + config.uploadInfo.folderPath);[m
[32m+[m
[32m+[m[32m        // 'Ìè¥Îçî ÎÇ¥ Ï†ÑÏ≤¥ ÌååÏùº ÏóÖÎ°úÎìú' ÏñºÎüø Ï†úÏñ¥[m
[32m+[m[32m        page.on('dialog', async dialog => {[m
[32m+[m[32m        console.log(dialog.message());[m
[32m+[m[32m        await dialog.accept();[m
[32m+[m[32m        })[m
[32m+[m
[32m+[m[32m        // Ìè¥Îçî ÏóÖÎ°úÎìú Î≥¥Ïïà ÏïàÎÇ¥ Î†àÏù¥Ïñ¥> ÌôïÏù∏[m
[32m+[m[32m        await page.waitForSelector('button[data-type="start"]');[m
[32m+[m[32m        await page.focus('button[data-type="start"]'); // Chrome ÏïåÎûå Í∂åÌïú ÏöîÏ≤≠ Ï∞ΩÏù¥ ÎÖ∏Ï∂úÎêòÎ©∞ Ìè¨Ïª§Ïã±ÏùÑ Î∫èÏñ¥ Ïö∞ÏÑ† Î≤ÑÌäºÏóê Ìè¨Ïª§Ïã± Ï≤òÎ¶¨Ìï®.[m[41m [m
[32m+[m[32m                                                       // Í∏∞Î≥∏ ÏñºÎüø Ï†úÏñ¥ Î∞©Î≤ïÏúºÎ°ú Ï†úÏñ¥ ÏïàÎê®.(Î¶¨ÏÑúÏπò ÌïÑÏöî)[m
[32m+[m[32m        await page.click('button[data-type="start"]');[m
[32m+[m
[32m+[m[32m        // Ìè¥Îçî ÏóÖÎ°úÎìú Ïó¨Î∂Ä ÌôïÏù∏[m
[32m+[m[32m        var isExistsFolder = await page.$('li[title="'+ config.uploadInfo.folderName +'"]');[m
[32m+[m[32m        assert.isNull(isExistsFolder, "Ìè¥Îçî ÏóÖÎ°úÎìú Ïã§Ìå®!");[m
[32m+[m[41m        [m
[32m+[m[32m        // ÏóÖÎ°úÎìúÌïú Ìè¥Îçî ÏÇ≠Ï†ú[m
[32m+[m[32m        await page.waitForSelector('li[title="'+ config.uploadInfo.folderName +'"] > div > input');[m
[32m+[m[32m        await page.click('li[title="'+ config.uploadInfo.folderName +'"] > div > input');[m
[32m+[m[32m        await page.click('._delete');[m
[32m+[m[32m        await page.waitForSelector('._confirm\\#ok');[m
[32m+[m[32m        await page.click('._confirm\\#ok');[m
[32m+[m[41m        [m
[32m+[m[32m        // Ìè¥Îçî ÏÇ≠Ï†ú Ïó¨Î∂Ä ÌôïÏù∏[m
[32m+[m[32m        isExistsFolder = await page.$('li[title="'+ config.uploadInfo.folderName +'"]');[m
[32m+[m[32m        assert.isNotNull(isExistsFolder, "Ìè¥Îçî ÏÇ≠Ï†ú Ïã§Ìå®!");[m
[32m+[m[32m    }).timeout(20000);[m
[32m+[m[32m});[m
\ No newline at end of file[m
[1mdiff --git a/test/test2.js b/test/test2.js[m
[1mnew file mode 100644[m
[1mindex 0000000..9da3d56[m
[1m--- /dev/null[m
[1m+++ b/test/test2.js[m
[36m@@ -0,0 +1,29 @@[m
[32m+[m[32mvar time = getTimeStamp();[m
[32m+[m[32mconsole.log(time);[m
[32m+[m
[32m+[m
[32m+[m[32mfunction getTimeStamp() {[m
[32m+[m[32m  var d = new Date();[m
[32m+[m
[32m+[m[32m  var s =[m
[32m+[m[32m    leadingZeros(d.getFullYear(), 4) + '_' +[m
[32m+[m[32m    leadingZeros(d.getMonth() + 1, 2) + '_' +[m
[32m+[m[32m    leadingZeros(d.getDate(), 2) + '__' +[m
[32m+[m
[32m+[m[32m    leadingZeros(d.getHours(), 2) + '_' +[m
[32m+[m[32m    leadingZeros(d.getMinutes(), 2) + '_' +[m
[32m+[m[32m    leadingZeros(d.getSeconds(), 2);[m
[32m+[m
[32m+[m[32m  return s;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mfunction leadingZeros(n, digits) {[m
[32m+[m[32m  var zero = '';[m
[32m+[m[32m  n = n.toString();[m
[32m+[m
[32m+[m[32m  if (n.length < digits) {[m
[32m+[m[32m    for (i = 0; i < digits - n.length; i++)[m
[32m+[m[32m      zero += '0';[m
[32m+[m[32m  }[m
[32m+[m[32m  return zero + n;[m
[32m+[m[32m}[m
\ No newline at end of file[m
[1mdiff --git a/test/util.js b/test/util.js[m
[1mnew file mode 100644[m
[1mindex 0000000..dc6b4b2[m
[1m--- /dev/null[m
[1m+++ b/test/util.js[m
[36m@@ -0,0 +1,36 @@[m
[32m+[m[32mfunction getTimeStamp() {[m
[32m+[m[32m  var d = new Date();[m
[32m+[m
[32m+[m[32m  var s =[m
[32m+[m[32m    leadingZeros(d.getFullYear(), 4) + '_' +[m
[32m+[m[32m    leadingZeros(d.getMonth() + 1, 2) + '_' +[m
[32m+[m[32m    leadingZeros(d.getDate(), 2) + '__' +[m
[32m+[m
[32m+[m[32m    leadingZeros(d.getHours(), 2) + '_' +[m
[32m+[m[32m    leadingZeros(d.getMinutes(), 2) + '_' +[m
[32m+[m[32m    leadingZeros(d.getSeconds(), 2);[m
[32m+[m
[32m+[m[32m  return s;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mfunction leadingZeros(n, digits) {[m
[32m+[m[32m  var zero = '';[m
[32m+[m[32m  n = n.toString();[m
[32m+[m
[32m+[m[32m  if (n.length < digits) {[m
[32m+[m[32m    for (i = 0; i < digits - n.length; i++)[m
[32m+[m[32m      zero += '0';[m
[32m+[m[32m  }[m
[32m+[m[32m  return zero + n;[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m//   page.on('console', msg => console.log('PAGE LOG:', msg.text()));[m
[32m+[m
[32m+[m[32m//    // ÌååÏùº ÏóÖÎ°úÎìú ÌåùÏóÖÏ∞Ω Ìï∏Îì§Îü¨[m
[32m+[m[32m//    const newPagePromise = new Promise(x => browser.once('targetcreated', target => x(target.page())));[m
[32m+[m[32m//    const file_upload_popup = await newPagePromise;[m
[32m+[m[32m//[m
[32m+[m[32m//    // ÌÅ¥ÎùºÏö∞Îìú ÌååÏùº> [ÎÇ¥Î¨∏ÏÑú][m
[32m+[m[32m//    await file_upload_popup.waitForSelector('[path="/ÎÇ¥ Î¨∏ÏÑú/"]');[m
[32m+[m[32m//    await file_upload_popup.click('[path="/ÎÇ¥ Î¨∏ÏÑú/"]');[m
[32m+[m[32m//    await file_upload_popup.click('#changeButton');[m
\ No newline at end of file[m
